# HTML

## 文档类型

指定 `!DOCTYPE` 表明使用 H5 标准，浏览器将使用标准模式进行解析

文档解析类型包括

- 标准模式
- 怪异模式：兼容旧版本浏览器
- 近标准模式：与标准模式基本一致，在少数场景下采用怪异模式渲染

标准模式与怪异模式的区别

- 盒子模型
  - 标准模式：盒子大小表现为 `box-sizing: content` (注：这里只是便于理解差异)
  - 怪异模式：盒子大小表现为 `box-sizing: border` (注：这里只是便于理解差异)
- 图片元素垂直对齐方式
  - 标准模式：图片 `vertial-align` 表现为 `baseline`
  - 怪异模式：图片 `vertial-align` 表现为 `bottom`
- 内联元素尺寸
  - 标准模式：宽高设置无效
  - 怪异模式：宽高设置有效
- 元素百分比高度
  - 标准模式：正常生效
  - 怪异模式：根据内容高度变化
- 溢出处理
  - 标准模式：溢出内容不被裁剪，呈现在元素框外
  - 怪异模式：溢出内容不被裁剪，元素框自动调整大小

## 语义化优点

- 开发友好：增加了可读性，便于开发和维护
- 机器友好：利于 SEO，利于文本处理

## H5 新特性

- 新语义标签
- 表单扩展
- 本地存储
- 地理定位
- 离线应用
- 音频视频
- canvas/webGL
- history
- webscoket
- requestAnimationFrame

## src 与 href 的区别

- src: 指向外部资源位置，将资源内容下载并应当到文档内，下载时会赞同其他资源的处理
- href: 指向网络资源位置，建立当前元素与资源之间的连接，下载时不会停止对当前文档的处理

## 异步 script

- 正常：同步加载，HTML 解析 -> script 加载 并 解析(HTML 解析暂停) -> HTML 解析
- defer：延迟执行, HTML 解析 -> script 加载 -> script 解析(HTML 解析暂停) -> HTML 解析
- async：异步执行, HTML 解析 -> script 加载 -> HTML 解析完毕 -> script 解析

正常流程中遇到 script 会执行加载和解析并阻断 HTML 解析，故 script 通常都置于文档最后 <br>
defer 会进行下载但不会阻塞 HTML 解析，在文档解析完成后才进行脚本解析，defer 不会改变脚本的执行顺序 <br>
async 会在下载之后直接进行解析，此时会阻断 HTML 解析，async 不会考虑脚本顺序，故只能用于埋点、监控等异步场景
